<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.png">

    <title>InsurePeople - InsureMe</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- Custom styles -->
     <link rel="stylesheet" href="main.css">
    
    <!-- Navbar styles -->
     <link rel="stylesheet" href="navbar.css">
  </head>

  <body>

    <nav class="navbar navbar-custom navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-left navimage" href="index.html"><img src="logonav.png" alt="InsurePeople" height="50" width="100"></a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
              <li><a href="index.html">Home</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="active"><a href="get-started.html">Get Started</a></li>
            <li><a href="library.html">Policies</a></li>
            <li><a href="blog.html">Blog</a></li>
            <li><a href="contact.html">Contact Us</a></li>
            <li><a href="about.html">About Us</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    
    <div class="toptitle">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <h1 class="title">Simply Choose your Gadget<br> and Get Your Quote</h1>
            </div>
        </div>
    </div><!-- /.container -->
    </div>
    
    <div class="container spaceabove">
        <div class=" col-md-offset-2 col-md-8">
        <form class="form-vertical" id="demoinsure">
            <div class="row">
                <h4 class="">What's Your Gadget?</h4>
            </div>
            <div class="form-group row">
                <label class="control-label col-sm-6" for="PhoneType">Select your phone:</label>
                <div class="col-sm-6">
                    <select class="form-control" id="PhoneType" required>
                        <option value="" selected>Select one</option>
                        <option value="iPhone">iPhone 7</option>
                        <option value="Samsung">Samsung 8</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group row">
                <label class="control-label col-sm-6" for="SerialNum">Please enter the serial number of your phone:</label>
                <div class="col-sm-6">
                    <input type="text" class="form-control" id="SerialNum" placeholder="Serial Number" disabled>
                </div>
            </div>
                
            <div class="form-group row">
                <label class="control-label col-sm-6 spaceabove">Gadget Cover Price:</label>
                <div class="col-sm-6">
                    <div class="list-group-item emptyitem priceshow">Please Select Your Phone Above</div>
                </div>
            </div>
            
            <p class="pinktext">Below are other devices we have found linked to your account, check to include each device in your quote:</p>
            
            <div class="row"> 
            <div class="col-sm-8 col-sm-offset-2">
            <ul class="list-group listprices gadgetlist">
                <li id="loading" class="list-group-item emptyitem empty">None Found</li>
                <li id="ipm4" class="list-group-item apple tohide"> iPad mini 4 <span class="listprice">£4 per month</span><input class="itemcheck" type="checkbox" value="4"></li>
                <li id="mba" class="list-group-item apple tohide">MacBook Air <span class="listprice">£5 per month</span><input class="itemcheck" type="checkbox" value="5"></li>
                <li id="gts3" class="list-group-item samsung tohide">Galaxy Tab S3 <span class="listprice">£3 per month</span><input class="itemcheck" type="checkbox" value="3"></li>
                <li id="cbp" class="list-group-item samsung tohide">Chromebook Pro <span class="listprice">£4 per month</span><input class="itemcheck" type="checkbox" value="4"></li>
            </ul>
            </div>
            </div>
            
            <div class="form-group row">
                <label class="control-label col-sm-6 spaceabove">Total Cover Price:</label>
                <div class="col-sm-6">
                    <div class="list-group-item emptyitem totalshow">Please Select Your Devices Above</div>
                </div>
            </div>
            
            <div class="form-group row">
                <label class="col-xs-12 pinktext">Do you allow us to lock your gadget in the event of loss or theft? Activated through a claim.</label>
                <div class="col-xs-offset-1 col-xs-11">
                    <div class="form-check">
                        <label class="form-check-label pinktext">
                            <input class="form-check-input" type="checkbox" disabled> Tick to confim agreement
                        </label>
                    </div>
                </div>
            </div>

            <div class="col-sm-6 col-xs-12"><button type="submit" class="InsureButton startedbut"><h4>Confirm Purchase</h4><small class="bluetext"> Proceed to your cover overview</small></button></div>
            
        </form>
        </div>
    </div><!-- /.container -->

    <div class="bottombox"> 
        <div class="container bottom">
            <div class=" col-md-offset-2 col-md-8">
                <p>InsurePeople Limited is registered at Companies House (1087431) and authorised by the Financial Conduct Authority ("FCA"), registration number (xxxxxx). The registration details can be found on www.fca.gov.uk/register. For trading purposes, the registered address is xxxxx, xxx, xxx xxx. </p>   
            </div>
        </div><!-- /.container -->
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      
    <!-- Additional JavaScript -->
    <script src="source/js/main.js"></script>
      
    <script>
        function loadingmessage(type){
            $("#PhoneType").prop("disabled", "disabled");
            $(".toshow").addClass("tohide");
            $(".toshow").removeClass("toshow");
            $("#loading").addClass("toshow");
            $("#loading").html(" ");
            var message = "Searching for connected devices...";
            var characters = 0;
            var thischaracter = 0;
            var framespeed = setInterval(frame, 50);
            function frame(){
                if(characters >= message.length*3){
                    clearInterval(framespeed);
                    $("#loading").html("None Found");
                    $(".itemcheck").prop('checked', false);
                    $(".toshow").addClass("tohide");
                    $(".toshow").removeClass("toshow");
                    $("." + type).addClass("toshow");
                    $("#PhoneType").prop("disabled", false);
                } else {
                    if(thischaracter > message.length){
                        $("#loading").html(" ");
                        thischaracter = 0;
                    }
                    $("#loading").append(message[thischaracter]);
                    characters ++;
                    thischaracter ++;
                }
            }
        }
        
        $("document").ready(function(){
            var applerun = 0;
            var samsrun = 0;
            $("#PhoneType").change(function(){
                var price = 0;
                if($("#PhoneType").val() == ""){
                    $(".itemcheck").prop('checked', false);
                    $(".toshow").addClass("tohide");
                    $(".toshow").removeClass("toshow");
                    $(".empty").addClass("toshow");
                    $(".priceshow").html("Please Select Your Phone Above");
                    $(".totalshow").html("Please Select Your Devices Above");
                } else if($("#PhoneType").val() == "iPhone"){
                    price = 5;
                    $(".priceshow, .totalshow").html("£" + price + " per month");
                    if(applerun == 0){
                        loadingmessage("apple");
                        applerun ++;
                    } else {
                        $(".itemcheck").prop('checked', false);
                        $(".toshow").addClass("tohide");
                        $(".toshow").removeClass("toshow");
                        $(".apple").addClass("toshow");
                    }
                }else if($("#PhoneType").val() == "Samsung"){
                    price = 4;
                    $(".priceshow, .totalshow").html("£" + price + " per month");
                    if(samsrun == 0){
                        loadingmessage("samsung");
                        samsrun ++;
                    } else {
                        $(".itemcheck").prop('checked', false);
                        $(".toshow").addClass("tohide");
                        $(".toshow").removeClass("toshow");
                        $(".samsung").addClass("toshow");
                    }
                    
                }
                
                $(".itemcheck").click(function(){
                    var pricevalue = parseInt($(this).val());
                    if($(this).is(':checked')) {
                        price += pricevalue;
                        $(".totalshow").html("£" + price + " per month");
                    } else {
                        price -= pricevalue;
                        $(".totalshow").html("£" + price + " per month");
                    }
                });
                
                $("#demoinsure").submit(function(e){
                    e.preventDefault();
                    if(window.sessionStorage){
                        sessionStorage.setItem("phone", $("#PhoneType").val());
                        sessionStorage.setItem("total", price);
                    }
                    var gadget = 1;
                    $(".gadgetlist input:checkbox:checked").each(function() {
                        var parent = $(this).parent().closest('li').attr('id').split(' ');
                        var gadgettext = $("#" + parent).html();
                        gadgettext = gadgettext.substring(0, gadgettext.indexOf('<'));
                        gadgettext = gadgettext.replace(/\s+/g, '');
                        if(window.sessionStorage){
                            sessionStorage.setItem("gadget" + gadget, gadgettext);
                        }
                        gadget += 1;
                    });
                    while(gadget<3){
                        if(window.sessionStorage){
                            sessionStorage.removeItem("gadget" + gadget);
                        }
                        gadget += 1;
                    }
                    window.location.href = "payment.html";
                });
            });
        });
    </script>
</body></html>